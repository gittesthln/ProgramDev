<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8"/>
<title>コンストラクタとPrototype</title>
<script type="text/ecmascript">
//<![CDATA[
function Person(){
  this.name = "foo";
  this.year = 2001;
  this.month = 4;
  this.day = 1;
  this.toString = function(){
    return "私の名前は"+this.name+"です";
  }
  this.showBirthday = function() {
    return this.name+"の誕生日は"+
      this.year+"年"+this.month+"月"+this.day+"日です";
  }
  Object.preventExtensions(this);
}
function Person2(name, y, m, d){
  this.name = name;
  this.year = y,
  this.month = m,
  this.day = d
}
Person2.prototype = {
  toString : function(){
      return "私の名前は"+this.name+"です";
    },
  get age(){
      var Now = new Date();
      var Age = Now.getFullYear() - this.year;
      if((Now.getMonth()+1) < this.month) {
        Age--;
      } else {
        if((Now.getMonth()+1) == this.month &&
           Now.getDate() < this.day) Age--;
      }
      return Age;
    },
  get birthday() {
      return this.year+"年"+this.month+"月"+this.day+"日";
    }
}

function Student(n, id, y, m, d){
  this.name   = n;
  this.year  = y;
  this.month = m;
  this.day   = d;
  this.id    = id;
}
Student.prototype = new Person2();
Student.prototype.constructor = Student;
//]]>
</script>
</head>
</html>
