<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8"/>
<title>クラスの例--Student()+id</title>
<script type="text/ecmascript">
//<![CDATA[
class Person{
  constructor(name, year, month, day, hometown="神奈川"){
    this.name = "foo";
    this.birthday = {
      year : year,
      month : month,
      day : day
    };
    this["hometown"] = hometown;
  }
  toString() {
    return `${this.name}さんは`+
      `${this.birthday.year}年${this.birthday.month}月${this.birthday.day}日に}` +
   `${this.hometown}で生まれました。`;
  }
  getAge(year, month=1, day=1) {
    let today;
    if(year == undefined) today = new Date();
    else today = new Date(year, month-1, day);
    let Age = today.getFullYear() - this.birthday.year;
    if(today.getTime() <
       new Date(today.getFullYear(),
                this.birthday.month-1,
                this.birthday.day).getTime()) Age--;
    return Age;
  }
  get age() {
    return this.getAge();
  }
  set age(x){
    window.alert("値をセットできません");
  }
}
class Student extends Person {
  static getNextId(){
    return Student.nextId++;
  }
  constructor(name, year, month, day, hometown) {
    super(name, year, month, day, hometown);
    this.id = Student.getNextId();
  }
}
Student.nextId = 10000;
//]]>
</script>
</head>
</html>
