<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8"/>
<title>クラスの例</title>
<script type="text/ecmascript">
//<![CDATA[
function PersonF(name, year, month, day, hometown="神奈川"){
    this.name = "foo";
    this.birthday = {
      year : year,
      month : month,
      day : day
    };
    this["hometown"] = hometown;
  }
if(false) PersonF.prototype = {
  toString:function() {
    return `${this.name}さんは`+
      `${this.birthday.year}年${this.birthday.month}月${this.birthday.day}日に` +
   `${this.hometown}で生まれました。`;
  },
  get age(){
    let today = new Date();console.log(x);
    let age = today.getFullYear() - this.birthday.year;
    if(today.getTime() <
         new Date(today.getFullYear(),
                  this.birthday.month-1,
                  this.birthday.day).getTime()) age--;
    return age;
  },
  constructor: PersonF
}

const StudentF = (function(){
  let id = 10000;
  return function(name, year, month, day, hometown = "神奈川") {
    this.name = name
    this.birthday = {
      year : year,
      month : month,
      day : day
    };
    this["hometown"] = hometown;
    this.id = id++;
    }
  })();
StudentF.prototype = new PersonF();
StudentF.prototype.constructor = StudentF;

console.log('>p = new PersonF("foo",2001,4,1);');
console.log(p = new PersonF("foo",2001,4,1));
console.log('>p.mother = "Alice";');
console.log(p.mother = "Alice");
console.log('>p.mother;');
console.log(p.mother);
console.log('>p.mather = "Old Alice";');
console.log(p.grandmother = "Old Alice");
console.log('>p.grandmother;');
console.log(p.grandmother);
console.log('>Object.preventExtensions(p);');
console.log(Object.preventExtensions(p));
console.log('>p.father = "Bob";');
console.log(p.father = "Bob");
console.log('>p.father;');
console.log(p.father);
console.log('>delete p.mother;');
console.log(delete p.mother);
console.log('>p.mother;');
console.log(p.mother);
console.log('>Object.seal(p);');
console.log(Object.seal(p));
console.log('>Object.isSealed(p);');
console.log(Object.isSealed(p));
console.log('>delete p.grandmother;');
console.log(delete p.grandmother);
console.log('>p.grandmother;');
console.log(p.grandmother);
console.log('>p.grandmother = "Very Old Alice";');
console.log(p.grandmother = "Very Old Alice");
console.log('>p.grandmother;');
console.log(p.grandmother);
console.log('>Object.freeze(p);');
console.log(Object.freeze(p));
console.log('>p.grandmother = "Very Very Old Alice";');
console.log(p.grandmother = "Very Very Old Alice");
console.log('>;');
console.log();
console.log('>p.grandmother;');
console.log(p.grandmother);
//]]>
</script>
</head>
</html>
